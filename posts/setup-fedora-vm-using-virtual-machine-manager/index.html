<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>- sharefun</title><meta name=description content="I&rsquo;m using Ubuntu for my everyday work. Recently, I have some tasks relating SELinux. Unfortunately, SELinux is by default not enabled on Ubuntu, and the ecosystem is not as full as it in Fedora.
In this article, I wrote down the steps to setup an Fedora VM via Virtual Maching Manager, and using ssh to login Fedora."><meta name=author content><link rel="preload stylesheet" href=https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.css><script src=https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js></script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script>MathJax={tex:{inlineMath:[["$","$"]],displayMath:[["$$","$$"]]}}</script><script id=MathJax-script defer src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script>
<link rel="preload stylesheet" href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/styles/gruvbox-dark.min.css><script defer src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/highlight.min.js onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon type=image/x-icon href=https://hfyeh.github.io/images/favicon.ico><link rel=apple-touch-icon href=https://hfyeh.github.io/images/apple-touch-icon-dark.png><link rel=stylesheet href=https://hfyeh.github.io/stylesheets/dark.css><link rel="preload stylesheet" as=style href=https://hfyeh.github.io/custom.min.css><meta name=generator content="Hugo 0.119.0"><meta property="og:title" content><meta property="og:description" content="I&rsquo;m using Ubuntu for my everyday work. Recently, I have some tasks relating SELinux. Unfortunately, SELinux is by default not enabled on Ubuntu, and the ecosystem is not as full as it in Fedora.
In this article, I wrote down the steps to setup an Fedora VM via Virtual Maching Manager, and using ssh to login Fedora."><meta property="og:type" content="article"><meta property="og:url" content="https://hfyeh.github.io/posts/setup-fedora-vm-using-virtual-machine-manager/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-10-06T00:00:00+00:00"><meta property="article:modified_time" content="2023-10-06T00:00:00+00:00"><meta itemprop=name content><meta itemprop=description content="I&rsquo;m using Ubuntu for my everyday work. Recently, I have some tasks relating SELinux. Unfortunately, SELinux is by default not enabled on Ubuntu, and the ecosystem is not as full as it in Fedora.
In this article, I wrote down the steps to setup an Fedora VM via Virtual Maching Manager, and using ssh to login Fedora."><meta itemprop=datePublished content="2023-10-06T00:00:00+00:00"><meta itemprop=dateModified content="2023-10-06T00:00:00+00:00"><meta itemprop=wordCount content="281"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content><meta name=twitter:description content="I&rsquo;m using Ubuntu for my everyday work. Recently, I have some tasks relating SELinux. Unfortunately, SELinux is by default not enabled on Ubuntu, and the ecosystem is not as full as it in Fedora.
In this article, I wrote down the steps to setup an Fedora VM via Virtual Maching Manager, and using ssh to login Fedora."></head><body><div class="grid grid-centered"><div class=grid-cell><nav class="header-nav scrollappear"><a href=/ class=header-logo title=sharefun>sharefun</a><ul class=header-links><li><a href=https://www.facebook.com/sharefun010407 rel="noreferrer noopener" target=_blank title=Facebook><svg xmlns="http://www.w3.org/2000/svg" class="icon-facebook"><use href="https://hfyeh.github.io/icons/facebook.svg#icon-facebook" xlink:href="https://hfyeh.github.io/icons/facebook.svg#icon-facebook"/></svg></a></li><li><a href=https://github.com/hfyeh rel="noreferrer noopener" target=_blank title=GitHub><svg xmlns="http://www.w3.org/2000/svg" class="icon-github"><use href="https://hfyeh.github.io/icons/github.svg#icon-github" xlink:href="https://hfyeh.github.io/icons/github.svg#icon-github"/></svg></a></li><li><a href=https://twitter.com/SharefunYeh rel="noreferrer noopener" target=_blank title=Twitter><svg xmlns="http://www.w3.org/2000/svg" class="icon-twitter"><use href="https://hfyeh.github.io/icons/twitter.svg#icon-twitter" xlink:href="https://hfyeh.github.io/icons/twitter.svg#icon-twitter"/></svg></a></li></ul></nav><article class="article scrollappear"><header class=article-header><h1></h1></header><div class=article-list-header><span class=article-list-date>October 6, 2023</span></div><div class=article-content><p>I&rsquo;m using Ubuntu for my everyday work. Recently, I have some tasks relating SELinux. Unfortunately, SELinux is by default not enabled on Ubuntu, and the ecosystem is not as full as it in Fedora.</p><p>In this article, I wrote down the steps to setup an Fedora VM via <a href=https://virt-manager.org/>Virtual Maching Manager</a>, and using <code>ssh</code> to login Fedora.</p><h2 id=install-virtual-machine-manager>Install Virtual Machine Manager</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>sudo apt-get install virt-manager
</span></span></code></pre></div><h2 id=download-the-fedora-workstation-iso>Download the Fedora Workstation ISO</h2><p>I&rsquo;m using Fedora 38. Download from the <a href=https://fedoraproject.org/workstation/download/>official site</a> or simple using the command below.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>wget https://download.fedoraproject.org/pub/fedora/linux/releases/38/Workstation/x86_64/iso/Fedora-Workstation-Live-x86_64-38-1.6.iso
</span></span></code></pre></div><h2 id=create-fedora-vm-and-install>Create Fedora VM and Install</h2><p>Click &ldquo;Create a new virtual machin&rdquo;.</p><p><img src=https://i.imgur.com/cMUgqOr.png alt></p><p>Click &ldquo;Forward&rdquo;.</p><p><img src=https://i.imgur.com/hXZssOT.png alt></p><p>Follow the steps below to select the Fedora ISO we just downloaded.</p><p><img src=https://i.imgur.com/n91oauG.png alt></p><p>Set proper memory and CPU and disk size.</p><p><img src=https://i.imgur.com/AmmHwdF.png alt></p><p><img src=https://i.imgur.com/EtfWp6A.png alt></p><p>Set the name of the VM, click &ldquo;Finish&rdquo;.</p><p><img src=https://imgur.com/CK39ncF.png alt></p><p>Now the boot process starts. We firstly boot from the ISO and then install to the disk.</p><p><img src=https://i.imgur.com/nnbYVDp.png alt></p><p>Install Fedora.
<img src=https://i.imgur.com/JHsPzgD.png alt>
The installation destination is not set. Click &ldquo;Installation Destination&rdquo; to set.</p><p><img src=https://i.imgur.com/PdKYWhF.png alt></p><p>Double click the only disk in &ldquo;Local Standard Disks&rdquo;, which is created for us in the VM creation steps, then click &ldquo;Done&rdquo;. Then click &ldquo;Begin Installation&rdquo;.</p><p>After installation is done and reboot, we can boot from the disk.</p><p><img src=https://i.imgur.com/ccdttga.png alt></p><p>After reboot and login, open &ldquo;Terminal&rdquo; app. Then go to the next section.</p><h2 id=setup-ssh-login>Setup ssh login</h2><p>Since <code>openssh-server</code> is already installed by default, we could simply enable it.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e># Guest terminal</span>
</span></span><span style=display:flex><span>systemctl enable sshd
</span></span><span style=display:flex><span>systemctl start sshd
</span></span></code></pre></div><p>Copy public key from host.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e># Host terminal</span>
</span></span><span style=display:flex><span>cat ~/.ssh/id_rsa.pub
</span></span></code></pre></div><p>Paste the output to the guest machine.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e># Guest terminal</span>
</span></span><span style=display:flex><span>mkdir -p ~/.ssh
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Paste the output to ~/.ssh/authorized_keys</span>
</span></span></code></pre></div><p>Obtain guest&rsquo;s IP address</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e># Guest terminal</span>
</span></span><span style=display:flex><span>ifconfig | grep <span style=color:#ae81ff>192</span>
</span></span><span style=display:flex><span>&gt; 192.168.123.25
</span></span></code></pre></div><p>Login guest from host.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>ssh &lt;username&gt;@192.168.123.25
</span></span></code></pre></div></div><div class=article-list-footer><div class=article-list-tags></div></div></article><footer class="footer scrollappear"><p><span>&copy; 2023 <a href=https://hfyeh.github.io>sharefun</a></span>
<span>Powered by <a href=https://gohugo.io/ rel=noopener target=_blank>Hugo</a></span>
<span>Theme is based on <a href=https://github.com/nielsenramon/chalk rel="noreferrer noopener" target=_blank>Chalk</a></span></p></footer><script>var config={startOnLoad:!0,theme:"forest",classDiagram:{useMaxWidth:!1,htmlLabels:!0}};mermaid.initialize(config),window.mermaid.init(void 0,document.querySelectorAll(".language-mermaid"))</script><style>.language-mermaid>svg{background-color:#e8e8e8}</style></div></div></main><script src=https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js></script>
<script src=https://hfyeh.github.io/javascripts/zooming.min.js></script>
<script src=https://hfyeh.github.io/javascripts/retina.min.js></script>
<script src=https://hfyeh.github.io/javascripts/svgxuse.min.js></script>
<script src=https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js></script>
<script src=https://hfyeh.github.io/javascripts/vendor.min.js></script>
<script src=https://hfyeh.github.io/javascripts/webfonts.min.js></script>
<script src=https://hfyeh.github.io/javascripts/scrollappear.min.js></script>
<script src=https://hfyeh.github.io/javascripts/application.min.js></script></body></html>