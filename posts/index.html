<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>Posts - sharefun</title>
<meta name=description content><meta name=author content><link rel="preload stylesheet" href=https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.css><script src=https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js></script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script>MathJax={tex:{inlineMath:[["$","$"]],displayMath:[["$$","$$"]]}}</script><script id=MathJax-script defer src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link rel="preload stylesheet" href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/styles/gruvbox-dark.min.css><script defer src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/highlight.min.js onload=hljs.initHighlightingOnLoad()></script><link rel=icon type=image/x-icon href=https://hfyeh.github.io/images/favicon.ico><link rel=apple-touch-icon href=https://hfyeh.github.io/images/apple-touch-icon-dark.png><link rel=stylesheet href=https://hfyeh.github.io/stylesheets/dark.css><link rel="preload stylesheet" as=style href=https://hfyeh.github.io/custom.min.css><meta name=generator content="Hugo 0.123.1"><link rel=alternate type=application/rss+xml href=https://hfyeh.github.io/posts/index.xml title=sharefun><meta property="og:title" content="Posts"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:url" content="https://hfyeh.github.io/posts/"><meta itemprop=name content="Posts"><meta itemprop=description content><meta name=twitter:card content="summary"><meta name=twitter:title content="Posts"><meta name=twitter:description content><meta name=twitter:site content="@SharefunYeh"></head><body><div class="grid grid-centered"><div class=grid-cell><nav class="header-nav scrollappear"><a href=/ class=header-logo title=sharefun>sharefun</a><ul class=header-links><li><a href=https://www.facebook.com/sharefun010407 rel="noreferrer noopener" target=_blank title=Facebook><svg xmlns="http://www.w3.org/2000/svg" class="icon-facebook"><use href="https://hfyeh.github.io/icons/facebook.svg#icon-facebook" xlink:href="https://hfyeh.github.io/icons/facebook.svg#icon-facebook"/></svg></a></li><li><a href=https://github.com/hfyeh rel="noreferrer noopener" target=_blank title=GitHub><svg xmlns="http://www.w3.org/2000/svg" class="icon-github"><use href="https://hfyeh.github.io/icons/github.svg#icon-github" xlink:href="https://hfyeh.github.io/icons/github.svg#icon-github"/></svg></a></li><li><a href=https://twitter.com/SharefunYeh rel="noreferrer noopener" target=_blank title=Twitter><svg xmlns="http://www.w3.org/2000/svg" class="icon-twitter"><use href="https://hfyeh.github.io/icons/twitter.svg#icon-twitter" xlink:href="https://hfyeh.github.io/icons/twitter.svg#icon-twitter"/></svg></a></li></ul></nav><ul class=article-list><li class="article-list-item scrollappear"><h2><a href=https://hfyeh.github.io/posts/openwrt-config-generation/ title="OpenWRT Config Generation">OpenWRT Config Generation</a></h2><div class=article-list-header><span class=article-list-date>February 22, 2024</span></div><p><p>In OpenWRT, all config files under <code>/etc/config</code> are generated dynamically. There are scripts in <code>/etc/uci-defaults</code> to construct this configuration.</p><p>The scripts in <code>/etc/uci-defaults</code> are executed on first boot and then removed.</p><div class=article-list-read-more><a href=https://hfyeh.github.io/posts/openwrt-config-generation/ title="Read more" class=article-list-read-more>Read more<svg xmlns="http://www.w3.org/2000/svg" class="icon-arrow-right"><use href="https://hfyeh.github.io/icons/arrow-right.svg#icon-arrow-right" xlink:href="https://hfyeh.github.io/icons/arrow-right.svg#icon-arrow-right"/></svg></a></div></p></p></li><li class="article-list-item scrollappear"><h2><a href=https://hfyeh.github.io/posts/setup-fedora-vm-using-virtual-machine-manager/ title="Setup Fedora VM Using Virtual Machine Manager">Setup Fedora VM Using Virtual Machine Manager</a></h2><div class=article-list-header><span class=article-list-date>October 6, 2023</span></div><p><p>I&rsquo;m using Ubuntu for my everyday work. Recently, I have some tasks relating SELinux. Unfortunately, SELinux is by default not enabled in Ubuntu, and the ecosystem is not as full as it in Fedora.</p><p>In this article, I wrote down the steps to setup an Fedora VM via <a href=https://virt-manager.org/>Virtual Maching Manager</a>, and using <code>ssh</code> to login Fedora.</p><div class=article-list-read-more><a href=https://hfyeh.github.io/posts/setup-fedora-vm-using-virtual-machine-manager/ title="Read more" class=article-list-read-more>Read more<svg xmlns="http://www.w3.org/2000/svg" class="icon-arrow-right"><use href="https://hfyeh.github.io/icons/arrow-right.svg#icon-arrow-right" xlink:href="https://hfyeh.github.io/icons/arrow-right.svg#icon-arrow-right"/></svg></a></div></p></p></li><li class="article-list-item scrollappear"><h2><a href=https://hfyeh.github.io/posts/big-picture/ title=讀《大局》，兼憶金邊台商與我的緣份>讀《大局》，兼憶金邊台商與我的緣份</a></h2><div class=article-list-header><span class=article-list-date>May 30, 2023</span></div><p><p>讀者：<a href=https://www.facebook.com/sharefun010407>葉學舫</a></p><p><img src=https://i.imgur.com/1Ah0Q43.jpg alt></p><p>作者黃文局先生是身懷絕藝的江湖高手，在紐約經商四十年終成一方之雄，也是個飽讀中外文史，進而關懷國家興衰的世外異人，跨海資助近代的政治人物和活動，又從不露形跡於幕前。累積巨富後回台的他仿效猶太人，先後在美、台創辦全球台灣研究中心 (Global Taiwan  Institute, GTI) 與台灣勵志協會 (Taiwan Inspiration Association, TIA)，向美國政界及學界發聲，並幫助本土政權茁壯。</p><p>以史為基，以錢為盾，如今更以筆為刀，黃文局先生將其畢生江湖「撇步」撰於書中傳予年輕人，盼後者經過幾代的茁壯後，引領住在台灣這塊土地的人民邁向自決建國一途。</p><p>展讀此書之際，作者在我心中的形象使我數次想起十多年前在柬埔寨與一位台商相遇的經歷。</p><div class=article-list-read-more><a href=https://hfyeh.github.io/posts/big-picture/ title="Read more" class=article-list-read-more>Read more<svg xmlns="http://www.w3.org/2000/svg" class="icon-arrow-right"><use href="https://hfyeh.github.io/icons/arrow-right.svg#icon-arrow-right" xlink:href="https://hfyeh.github.io/icons/arrow-right.svg#icon-arrow-right"/></svg></a></div></p></p></li><li class="article-list-item scrollappear"><h2><a href=https://hfyeh.github.io/posts/agriculture/ title=農事體驗>農事體驗</a></h2><div class=article-list-header><span class=article-list-date>December 1, 2022</span></div><p><p><img src=https://i.imgur.com/YCLDeuc.jpg alt></p><p>十月和十一月，帶著小方舟體驗農事。誠然對真正的農夫來說那遠遠算不上農事，但對都市家長如我來說，已經可滿足帶小孩認識世界各種樣貌的目的。為什麼我這樣認定？因為每次結束，小方舟總是嚷著要再參加類似的活動。</p><p>小方舟固然驚異於那些初次親見的、體驗的事物，陪伴過程也拓展了對世界認識甚少的我的視野。</p><div class=article-list-read-more><a href=https://hfyeh.github.io/posts/agriculture/ title="Read more" class=article-list-read-more>Read more<svg xmlns="http://www.w3.org/2000/svg" class="icon-arrow-right"><use href="https://hfyeh.github.io/icons/arrow-right.svg#icon-arrow-right" xlink:href="https://hfyeh.github.io/icons/arrow-right.svg#icon-arrow-right"/></svg></a></div></p></p></li><li class="article-list-item scrollappear"><h2><a href=https://hfyeh.github.io/posts/a-minimal-example-of-concurrent-python/ title="A Minimal Example of Concurrent Python">A Minimal Example of Concurrent Python</a></h2><div class=article-list-header><span class=article-list-date>April 22, 2022</span></div><p><p>The CPython interpreter usese <a href=https://wiki.python.org/moin/GlobalInterpreterLock>GIL</a> (global interpreter lock), to prevent threads from executing Python bytecodes at once.</p><p>Suppose I have two components who need to be run in parallel in a modern multi-core processor. Say, <code>add</code> and <code>mul</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>add</span>(n: int) <span style=color:#f92672>-&gt;</span> int:
</span></span><span style=display:flex><span>    result <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> range(n):
</span></span><span style=display:flex><span>        result <span style=color:#f92672>+=</span> (i <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> result
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>mul</span>(n: int) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>    <span style=color:#75715e># Run many times to get longer execution period</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> x <span style=color:#f92672>in</span> range(<span style=color:#ae81ff>4000000</span>):
</span></span><span style=display:flex><span>        result <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> range(n):
</span></span><span style=display:flex><span>            result <span style=color:#f92672>*=</span> (i <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> result
</span></span></code></pre></div><p>Impose that these two tiny components have to be run sequentially, <code>mul</code> recieves <code>add</code>&rsquo;s output.</p><pre tabindex=0><code class=language-mermaid data-lang=mermaid>sequenceDiagram
    participant main
    participant mul
    participant add
    main-&gt;&gt;mul: For every stdin
    activate main
    mul-&gt;&gt;add: result
    add-&gt;&gt;mul: 
    mul-&gt;&gt;main: 
    deactivate main
</code></pre><p>Run it twice and fix the input of <code>mul</code> to be 11 for demonstration purpose. Note here I print the time log to the standard error on purpose. The code is listed below.</p><div class=article-list-read-more><a href=https://hfyeh.github.io/posts/a-minimal-example-of-concurrent-python/ title="Read more" class=article-list-read-more>Read more<svg xmlns="http://www.w3.org/2000/svg" class="icon-arrow-right"><use href="https://hfyeh.github.io/icons/arrow-right.svg#icon-arrow-right" xlink:href="https://hfyeh.github.io/icons/arrow-right.svg#icon-arrow-right"/></svg></a></div></p></p></li><li class="article-list-item scrollappear"><h2><a href=https://hfyeh.github.io/posts/uml-class-diagram/ title="A Note on UML Class Diagram">A Note on UML Class Diagram</a></h2><div class=article-list-header><span class=article-list-date>March 30, 2022</span></div><p><p>這是一篇學習 UML class diagram 的簡記。為保持文意清晰，用到術語時盡可能使用原文表示。</p><div class=article-list-read-more><a href=https://hfyeh.github.io/posts/uml-class-diagram/ title="Read more" class=article-list-read-more>Read more<svg xmlns="http://www.w3.org/2000/svg" class="icon-arrow-right"><use href="https://hfyeh.github.io/icons/arrow-right.svg#icon-arrow-right" xlink:href="https://hfyeh.github.io/icons/arrow-right.svg#icon-arrow-right"/></svg></a></div></p></p></li><li class="article-list-item scrollappear"><h2><a href=https://hfyeh.github.io/posts/books-from-sbyang.md/ title=聖誕書盒>聖誕書盒</a></h2><div class=article-list-header><span class=article-list-date>December 31, 2021</span></div><p><p>初看<a href=https://www.facebook.com/YangSzuPang>楊斯棓</a>醫師發文說要贈送書盒，我心裡想：『書盒是什麼東西？』該文章附圖是一個個的紙箱，不知裡面是什麼，也沒再探究。幾天後，陸續看到其他收到「書盒」的人開箱分享，才驚覺原來送的是書啊！</p><p>看著分享文中那些楊醫師精心挑選，主題圍繞在台灣、自由的書，著實心動，沒有履行再次參加有獎徵讀書心得承諾的我只好把羞恥心埋起來，伸手索書。</p><div class=article-list-read-more><a href=https://hfyeh.github.io/posts/books-from-sbyang.md/ title="Read more" class=article-list-read-more>Read more<svg xmlns="http://www.w3.org/2000/svg" class="icon-arrow-right"><use href="https://hfyeh.github.io/icons/arrow-right.svg#icon-arrow-right" xlink:href="https://hfyeh.github.io/icons/arrow-right.svg#icon-arrow-right"/></svg></a></div></p></p></li><li class="article-list-item scrollappear"><h2><a href=https://hfyeh.github.io/posts/ieee754-float-check/ title="C 語言中的浮點數與 IEEE 754">C 語言中的浮點數與 IEEE 754</a></h2><div class=article-list-header><span class=article-list-date>July 2, 2019</span></div><p><p>今天與同事討論 C 語言中，對一個浮點數取 floor 的問題。剛好最近有看到 IEEE 754 標準如何規範浮點數格式<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup>，就趁此機會仔細驗證一下。仍建議看第一手資料，以下純為記錄和分享用途而已。</p><p>先從一個問題開始，我用 GCC 編譯以下的程式碼並執行：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>floor<span style=color:#f92672>(</span>f1<span style=color:#f92672>)</span>, <span style=color:#ae81ff>20</span> digital points: 2.00000000000000000000
</span></span><span style=display:flex><span>floor<span style=color:#f92672>(</span>f2<span style=color:#f92672>)</span>, <span style=color:#ae81ff>20</span> digital points: 3.00000000000000000000
</span></span></code></pre></div><p>為什麼 2.999999 取 floor 得到 2.0，而 2.9999999 取 floor 會得到 3.0 呢？我們的都知道，是因為浮點數有精度問題，單精度浮點數的精準度在絕大多數的機器上有效位數只到小數後第六位。這篇的目標就是從標準的角度去親自確認這件事情。</p><div class=article-list-read-more><a href=https://hfyeh.github.io/posts/ieee754-float-check/ title="Read more" class=article-list-read-more>Read more<svg xmlns="http://www.w3.org/2000/svg" class="icon-arrow-right"><use href="https://hfyeh.github.io/icons/arrow-right.svg#icon-arrow-right" xlink:href="https://hfyeh.github.io/icons/arrow-right.svg#icon-arrow-right"/></svg></a></div></p></p></li><li class="article-list-item scrollappear"><h2><a href=https://hfyeh.github.io/posts/chingtao-east-road/ title=《青島東路三號：我的百年之憶及台灣的荒謬年代》：白色恐怖受難者的記憶歷史>《青島東路三號：我的百年之憶及台灣的荒謬年代》：白色恐怖受難者的記憶歷史</a></h2><div class=article-list-header><span class=article-list-date>April 5, 2017</span></div><p><p>讀者：<a href=https://www.facebook.com/sharefun010407>葉學舫</a></p><p><img src=https://imgur.com/24lIhsh.png alt=青島東路三號：我的百年之憶及台灣的荒謬年代></p><p>這是一本白色恐怖受難者的記憶歷史。作者顏世鴻先生因為加入共產黨被逮捕至保密局北所、青島東路的軍法處，後囚禁於綠島和小琉球共十三餘年。顏君強記獄中事件，於獲釋後用兩天的時間抄寫出來，完成《霜降》一書，以此為獄友立傳。此書即是《霜降》第三次改寫而成。</p><div class=article-list-read-more><a href=https://hfyeh.github.io/posts/chingtao-east-road/ title="Read more" class=article-list-read-more>Read more<svg xmlns="http://www.w3.org/2000/svg" class="icon-arrow-right"><use href="https://hfyeh.github.io/icons/arrow-right.svg#icon-arrow-right" xlink:href="https://hfyeh.github.io/icons/arrow-right.svg#icon-arrow-right"/></svg></a></div></p></p></li><li class="article-list-item scrollappear"><h2><a href=https://hfyeh.github.io/posts/the-inner-game-of-tennis/ title=《網球的內心遊戲》：運動場域的學習心法是放鬆的專注>《網球的內心遊戲》：運動場域的學習心法是放鬆的專注</a></h2><div class=article-list-header><span class=article-list-date>March 19, 2017</span></div><p><p>讀者：<a href=https://www.facebook.com/sharefun010407>葉學舫</a></p><p><img src=https://i.imgur.com/UTRBSU5.png alt="The Inner Game of Tennis"></p><p>這本書講的是運動的學習方法。而且標題與內容不符，這不是一本網球運動基本動作指南，而是一個網球教練（W. Timothy Gallwey）總結出的，對於頂尖的運動選手都適用的身體訓練指南。</p><div class=article-list-read-more><a href=https://hfyeh.github.io/posts/the-inner-game-of-tennis/ title="Read more" class=article-list-read-more>Read more<svg xmlns="http://www.w3.org/2000/svg" class="icon-arrow-right"><use href="https://hfyeh.github.io/icons/arrow-right.svg#icon-arrow-right" xlink:href="https://hfyeh.github.io/icons/arrow-right.svg#icon-arrow-right"/></svg></a></div></p></p></li><li class="article-pagination scrollappear"><a href=/posts/page/2/ class=article-pagination-right>Older posts<svg xmlns="http://www.w3.org/2000/svg" class="icon-arrow-right"><use href="https://hfyeh.github.io/icons/arrow-right.svg#icon-arrow-right" xlink:href="https://hfyeh.github.io/icons/arrow-right.svg#icon-arrow-right"/></svg></a></li></ul></div><footer class="footer scrollappear"><p><span>&copy; 2024 <a href=https://hfyeh.github.io/>sharefun</a></span>
<span>Powered by <a href=https://gohugo.io/ rel=noopener target=_blank>Hugo</a></span>
<span>Theme is based on <a href=https://github.com/nielsenramon/chalk rel="noreferrer noopener" target=_blank>Chalk</a></span></p></footer><script>var config={startOnLoad:!0,theme:"forest",classDiagram:{useMaxWidth:!1,htmlLabels:!0}};mermaid.initialize(config),window.mermaid.init(void 0,document.querySelectorAll(".language-mermaid"))</script><style>.language-mermaid>svg{background-color:#e8e8e8}</style></div></div></main><script src=https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js></script><script src=https://hfyeh.github.io/javascripts/zooming.min.js></script><script src=https://hfyeh.github.io/javascripts/retina.min.js></script><script src=https://hfyeh.github.io/javascripts/svgxuse.min.js></script><script src=https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js></script><script src=https://hfyeh.github.io/javascripts/vendor.min.js></script><script src=https://hfyeh.github.io/javascripts/webfonts.min.js></script><script src=https://hfyeh.github.io/javascripts/scrollappear.min.js></script><script src=https://hfyeh.github.io/javascripts/application.min.js></script></body></html>